webpackJsonp([0,3],{1097:function(t,n){function e(t){throw new Error("Cannot find module '"+t+"'.")}e.keys=function(){return[]},e.resolve=e,t.exports=e,e.id=1097},1098:function(t,n,e){t.exports=e(526)},123:function(t,n,e){"use strict";var a=e(0),i=e(118),o=e(1),r=(e.n(o),e(124));e.d(n,"a",function(){return l});var s=this&&this.__decorate||function(t,n,e,a){var i,o=arguments.length,r=o<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(n,e,r):i(n,e))||r);return o>3&&r&&Object.defineProperty(n,e,r),r},c=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},l=function(){function t(t){this.http=t,this.actionListUrl="/json/myActionList",this.categoryListUrl="/json/myCategoryList",this.addCategoryUrl="/json/addCategory",this.saveCategoryUrl="/json/saveCategory",this.deleteCategoryUrl="/json/deleteCategory",this.addActionUrl="/json/addAction",this.saveActionUrl="/json/saveAction",this.deleteActionUrl="/json/deleteAction",this.myCategory=[],this.myAction=[]}return t.prototype.listAction=function(){var t=this;return this.http.get(this.actionListUrl).map(function(n){var e=n.json();return t.myAction=e,t.myAction})},t.prototype.listActionWithCategory=function(){var t=this;return this.http.get(this.categoryListUrl).map(function(n){var e=n.json();return t.myCategory=e,t.myCategory})},t.prototype.deleteCategory=function(t){var n=this;return e.i(r.a)(this.http.post(this.deleteCategoryUrl,{id:t})).do(function(e){var a=n.myCategory.findIndex(function(n){return n.id===t});a!==-1&&n.myCategory.splice(a,1)})},t.prototype.saveCategory=function(t,n){var a=this;return e.i(r.a)(this.http.post(this.saveCategoryUrl,{id:t,name:n})).do(function(e){var i=a.myCategory.findIndex(function(n){return n.id===t});i!==-1&&(a.myCategory[i].name=n)})},t.prototype.saveAction=function(t,n,a){var i=this;return e.i(r.a)(this.http.post(this.saveActionUrl,{id:t,name:n,changeOld:a}),function(e){i.myCategory.forEach(function(a){var i=a.children.findIndex(function(n){return n.id===t});i!==-1&&(a.children[i].id!==e.id&&(a.children[i].id=e.id),a.children[i].name=n)})})},t.prototype.addAction=function(t,n){var a=this;return e.i(r.a)(this.http.post(this.addActionUrl,{cid:t,name:n}),function(n){var e=n.data,i=a.myCategory.findIndex(function(n){return n.id===t});return i!==-1&&a.myCategory[i].children.push(e),e})},t.prototype.addCategory=function(t){var n=this;return e.i(r.a)(this.http.post(this.addCategoryUrl,{name:t}),function(t){var e=t.data;return n.myCategory.push(e),e})},t.prototype.deleteAction=function(t){var n=this;return e.i(r.a)(this.http.post(this.deleteActionUrl,{id:t})).do(function(e){n.myCategory.forEach(function(n){var e=n.children.findIndex(function(n){return n.id===t});e!==-1&&n.children.splice(e,1)})})},t=s([e.i(a.Injectable)(),c("design:paramtypes",["function"==typeof(n="undefined"!=typeof i.a&&i.a)&&n||Object])],t);var n}();(function(){function t(){this.data=[new r.b("test",10,[new r.c("test1",1,10),new r.c("test2",2),new r.c("test3",1,10)]),new r.b("test",20,[new r.c("test1",22)]),new r.b("test",30,[new r.c("test1",32,10)])]}return t.prototype.listAction=function(){var t=[];return this.data.forEach(function(n){t=t.concat(n.children)}),o.Observable.of(t).delay(1e3)},t.prototype.listActionWithCategory=function(){return o.Observable.of(this.data)},t.prototype.deleteCategory=function(t){var n=this,e=this.data.findIndex(function(n){return n.id===t});return e!==-1?o.Observable.of(!0).delay(2e3).do(function(t){n.data.splice(e,1)}):o.Observable.throw("Can't find category: "+t)},t.prototype.saveCategory=function(t,n){var e=this.data.findIndex(function(n){return n.id===t});return e!==-1?(this.data[e].name=n,o.Observable.of(null).delay(3e3)):o.Observable.throw("Can't find category: "+t)},t.prototype.saveAction=function(t,n,e){var a=!1;return this.data.forEach(function(e){var i=e.children.findIndex(function(n){return n.id===t});i!==-1&&(e.children[i].name=n,a=!0)}),a?o.Observable.of(null).delay(3e3):o.Observable.throw("Can't find action: "+t)},t.prototype.addAction=function(t,n){var e=this.data.findIndex(function(n){return n.id===t});return e!==-1?(this.data[e].children.push(new r.c(n,Math.ceil(9999999999*Math.random()))),o.Observable.of(null).delay(1e4)):o.Observable.throw("Can't find category: "+t)},t.prototype.addCategory=function(t){return this.data.push(new r.b(t,Math.ceil(9999999999*Math.random()),[])),o.Observable.of(null).delay(1e4)},t.prototype.deleteAction=function(t){var n=!1;return this.data.forEach(function(e){var a=e.children.findIndex(function(n){return n.id===t});a!==-1&&(e.children.splice(a,1),n=!0)}),n?o.Observable.of(null).delay(5e3):o.Observable.throw("Can't find action: "+t)},t=s([e.i(a.Injectable)(),c("design:paramtypes",[])],t)})()},124:function(t,n,e){"use strict";function a(t,n,e){return t.switchMap(function(t){var a=t.json();return 0===a.res?void 0===n?i.Observable.of(!0):i.Observable.of(n(a)):void 0===e?i.Observable.throw(a.msg):i.Observable.throw(e(a))})}var i=e(483);e.n(i);e.d(n,"c",function(){return o}),e.d(n,"b",function(){return r}),n.a=a;var o=function(){function t(t,n,e){this.name=t,this.id=n,this.recordNum=e}return t}(),r=function(){function t(t,n,e){this.name=t,this.id=n,this.children=e}return t}();(function(){function t(t,n,e){this.name=t,this.avatarUrl=n,this.qqNick=e}return t})(),function(){function t(t,n){this.id=t,this.startAt=n}return t}()},175:function(t,n,e){"use strict";var a=e(0),i=e(118),o=e(1),r=(e.n(o),e(124));e.d(n,"a",function(){return l});var s=this&&this.__decorate||function(t,n,e,a){var i,o=arguments.length,r=o<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(n,e,r):i(n,e))||r);return o>3&&r&&Object.defineProperty(n,e,r),r},c=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},l=function(){function t(t){this.http=t,this.qqUserInfoUrl="/auth/qq/info",this.createNewQqUserUrl="/auth/qq/create",this.getQqAuthUrl="/auth/qq/url",this.logoutUrl="/logout",this.registerUrl="/register",this.loginUrl="/login"}return Object.defineProperty(t.prototype,"qqAuthUrl",{get:function(){return this.http.get(this.getQqAuthUrl).map(function(t){return t.json().data}).catch(function(t){return console.log(t),o.Observable.throw(t)})},enumerable:!0,configurable:!0}),t.prototype.createNewQqUser=function(t){return e.i(r.a)(this.http.post(this.createNewQqUserUrl,{name:t}))},t.prototype.qqUserInfo=function(){return e.i(r.a)(this.http.get(this.qqUserInfoUrl),function(t){return t.data},function(t){return t.res})},t.prototype.logout=function(){return this.http.post(this.logoutUrl,{}).map(function(t){return!0})},t.prototype.register=function(t,n,a,i){return e.i(r.a)(this.http.post(this.registerUrl,{name:t,email:n,password:a,password_confirmation:i}))},t.prototype.login=function(t,n,a){return e.i(r.a)(this.http.post(this.loginUrl,{email:t,password:n,remember:a}))},t=s([e.i(a.Injectable)(),c("design:paramtypes",["function"==typeof(n="undefined"!=typeof i.a&&i.a)&&n||Object])],t);var n}()},176:function(t,n,e){"use strict";var a=e(0),i=e(12),o=(e.n(i),e(1)),r=(e.n(o),e(118));e.d(n,"a",function(){return l});var s=this&&this.__decorate||function(t,n,e,a){var i,o=arguments.length,r=o<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(n,e,r):i(n,e))||r);return o>3&&r&&Object.defineProperty(n,e,r),r},c=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},l=function(){function t(t){this.http=t,this.accountInfoUrl="/json/accountInfo",this.loginedSource=new i.Subject,this.accountInfoSource=new i.Subject,this._logined=this.loginedSource.asObservable(),this._accountInfo=this.accountInfoSource.asObservable()}return Object.defineProperty(t.prototype,"logined$",{get:function(){return this.account?o.Observable.merge(o.Observable.of(!0),this._logined):o.Observable.merge(o.Observable.of(!1),this._logined)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"accountInfo$",{get:function(){return this.account?o.Observable.merge(o.Observable.of(this.account),this._accountInfo):o.Observable.merge(o.Observable.of(null),this._accountInfo)},enumerable:!0,configurable:!0}),t.prototype.refreshAccountInfo=function(){var t=this;this.http.get(this.accountInfoUrl).subscribe(function(n){var e=n.json();if("guest"===e.res)t.account=null,t.loginedSource.next(!1),t.accountInfoSource.next();else if("logon"===e.res){var a=e.account;t.account=a,t.loginedSource.next(!0),t.accountInfoSource.next(a)}},function(t){console.log(t)})},t=s([e.i(a.Injectable)(),c("design:paramtypes",["function"==typeof(n="undefined"!=typeof r.a&&r.a)&&n||Object])],t);var n}()},391:function(t,n,e){"use strict";var a=e(0),i=e(123),o=e(458);e.n(o);e.d(n,"a",function(){return c});var r=this&&this.__decorate||function(t,n,e,a){var i,o=arguments.length,r=o<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(n,e,r):i(n,e))||r);return o>3&&r&&Object.defineProperty(n,e,r),r},s=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},c=function(){function t(t){this.as=t,this.alerts=[],this.waiting=!1}return t.prototype.ngOnInit=function(){this.all=this.as.listActionWithCategory()},t.prototype.clearAlarts=function(){this.alerts=[]},t.prototype.showAddCategory=function(){this.addCategoryName="",this.addCategoryDialog.show()},t.prototype.hideAddCategory=function(){this.clearAlarts(),this.addCategoryDialog.hide()},t.prototype.addCategory=function(){var t=this;this.waiting=!0,this.clearAlarts(),this.as.addCategory(this.addCategoryName).subscribe(function(n){t.hideAddCategory(),t.waiting=!1},function(n){t.waiting=!1,t.alerts.push({type:"danger",msg:n})})},r([e.i(a.ViewChild)("addCategoryConfirm"),s("design:type","function"==typeof(n="undefined"!=typeof o.ModalDirective&&o.ModalDirective)&&n||Object)],t.prototype,"addCategoryDialog",void 0),t=r([e.i(a.Component)({selector:"action-mgr",template:e(837),styles:[e(827)]}),s("design:paramtypes",["function"==typeof(c="undefined"!=typeof i.a&&i.a)&&c||Object])],t);var n,c}()},392:function(t,n,e){"use strict";var a=e(0),i=e(175),o=e(251);e.d(n,"a",function(){return c});var r=this&&this.__decorate||function(t,n,e,a){var i,o=arguments.length,r=o<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(n,e,r):i(n,e))||r);return o>3&&r&&Object.defineProperty(n,e,r),r},s=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},c=function(){function t(t,n){this.auth=t,this.route=n,this.data={nick:""}}return t.prototype.ngOnInit=function(){var t=this;this.auth.qqUserInfo().subscribe(function(n){t.account=n,t.data.nick=n.qqNick},function(n){t.route.navigate(["/"])})},t.prototype.onSubmit=function(){var t=this;this.auth.createNewQqUser(this.data.nick).subscribe(function(n){t.route.navigate(["/"])},function(t){console.log(t)})},t=r([e.i(a.Component)({template:e(839),styles:[e(829)]}),s("design:paramtypes",["function"==typeof(n="undefined"!=typeof i.a&&i.a)&&n||Object,"function"==typeof(c="undefined"!=typeof o.b&&o.b)&&c||Object])],t);var n,c}()},393:function(t,n,e){"use strict";var a=e(0),i=e(176);e.d(n,"a",function(){return s});var o=this&&this.__decorate||function(t,n,e,a){var i,o=arguments.length,r=o<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(n,e,r):i(n,e))||r);return o>3&&r&&Object.defineProperty(n,e,r),r},r=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},s=function(){function t(t){this.session=t,this.loaded=!1}return t.prototype.ngOnInit=function(){var t=this;this.session.accountInfo$.subscribe(function(n){t.loaded=!0,t.account=n}),this.session.refreshAccountInfo()},t=o([e.i(a.Component)({template:e(841),styles:[e(831)]}),r("design:paramtypes",["function"==typeof(n="undefined"!=typeof i.a&&i.a)&&n||Object])],t);var n}()},394:function(t,n,e){"use strict";var a=e(0),i=e(118),o=e(124);e.d(n,"a",function(){return c});var r=this&&this.__decorate||function(t,n,e,a){var i,o=arguments.length,r=o<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(n,e,r):i(n,e))||r);return o>3&&r&&Object.defineProperty(n,e,r),r},s=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},c=function(){function t(t){this.http=t,this.doUrl="/json/do",this.currentUrl="/json/current"}return t.prototype.changeCurrent=function(t){return e.i(o.a)(this.http.post(this.doUrl,{id:t}),function(t){return t.data})},Object.defineProperty(t.prototype,"current",{get:function(){return this.http.get(this.currentUrl).map(function(t){return t.json()})},enumerable:!0,configurable:!0}),t=r([e.i(a.Injectable)(),s("design:paramtypes",["function"==typeof(n="undefined"!=typeof i.a&&i.a)&&n||Object])],t);var n}()},525:function(t,n){function e(t){throw new Error("Cannot find module '"+t+"'.")}e.keys=function(){return[]},e.resolve=e,t.exports=e,e.id=525},526:function(t,n,e){"use strict";var a=e(653),i=(e.n(a),e(613)),o=e(0),r=e(652),s=e(646);r.a.production&&e.i(o.enableProdMode)(),e.i(i.a)().bootstrapModule(s.a)},642:function(t,n,e){"use strict";var a=e(0),i=e(124),o=e(123),r=e(458);e.n(r);e.d(n,"a",function(){return l});var s=this&&this.__decorate||function(t,n,e,a){var i,o=arguments.length,r=o<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(n,e,r):i(n,e))||r);return o>3&&r&&Object.defineProperty(n,e,r),r},c=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},l=function(){function t(t){this.as=t,this.showRenameForm=!1,this.alerts=[],this.waiting=!1}return t.prototype.ngOnInit=function(){this._name=this.data&&this.data.name},t.prototype.remove=function(){var t=this;this.waiting=!0,this.clearAlarts(),this.as.deleteCategory(this.data.id).subscribe(function(n){t.waiting=!1},function(n){t.waiting=!1,t.alerts.push({type:"danger",msg:n})})},t.prototype.toggleRename=function(){this.showRenameForm=!this.showRenameForm},t.prototype.save=function(){var t=this;this.waiting=!0,this.clearAlarts(),this.as.saveCategory(this.data.id,this._name).subscribe(function(n){t.cancel(),t.waiting=!1},function(n){t.waiting=!1,t.alerts.push({type:"danger",msg:n})})},Object.defineProperty(t.prototype,"nameChanged",{get:function(){return this._name!==this.data.name},enumerable:!0,configurable:!0}),t.prototype.cancel=function(){this.toggleRename(),this._name=this.data.name,this.clearAlarts()},t.prototype.clearAlarts=function(){this.alerts=[]},t.prototype.showAddAction=function(){this.addActionName="",this.addActionDialog.show()},t.prototype.hideAddAction=function(){this.clearAlarts(),this.addActionDialog.hide()},t.prototype.addAction=function(){var t=this;this.waiting=!0,this.clearAlarts(),this.as.addAction(this.data.id,this.addActionName).subscribe(function(n){t.hideAddAction(),t.waiting=!1},function(n){t.waiting=!1,t.alerts.push({type:"danger",msg:n})})},s([e.i(a.Input)(),c("design:type","function"==typeof(n="undefined"!=typeof i.b&&i.b)&&n||Object)],t.prototype,"data",void 0),s([e.i(a.ViewChild)("addActionConfirm"),c("design:type","function"==typeof(l="undefined"!=typeof r.ModalDirective&&r.ModalDirective)&&l||Object)],t.prototype,"addActionDialog",void 0),t=s([e.i(a.Component)({selector:"action-category-editor",template:e(835),styles:[e(825)]}),c("design:paramtypes",["function"==typeof(d="undefined"!=typeof o.a&&o.a)&&d||Object])],t);var n,l,d}()},643:function(t,n,e){"use strict";var a=e(0),i=e(124),o=e(123);e.d(n,"a",function(){return c});var r=this&&this.__decorate||function(t,n,e,a){var i,o=arguments.length,r=o<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(n,e,r):i(n,e))||r);return o>3&&r&&Object.defineProperty(n,e,r),r},s=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},c=function(){function t(t){this.as=t,this.showRenameForm=!1,this.changeOld=!1,this.alerts=[],this.waiting=!1}return t.prototype.test=function(){console.log("work")},t.prototype.ngOnChanges=function(t){t.parentBusy&&(this.waiting=t.parentBusy.currentValue)},t.prototype.ngOnInit=function(){this._name=this.data&&this.data.name},t.prototype.toggleRename=function(){this.showRenameForm=!this.showRenameForm,this.clearAlarts()},t.prototype.save=function(){var t=this;this.waiting=!0,this.clearAlarts(),this.as.saveAction(this.data.id,this._name,this.changeOld).subscribe(function(n){t.waiting=!1,t.cancel()},function(n){t.waiting=!1,t.alerts.push({type:"danger",msg:n})})},Object.defineProperty(t.prototype,"nameChanged",{get:function(){return this._name!==this.data.name},enumerable:!0,configurable:!0}),t.prototype.cancel=function(){this.toggleRename(),this._name=this.data.name},t.prototype.clearAlarts=function(){this.alerts=[]},t.prototype.deleteAction=function(){var t=this;this.waiting=!0,this.clearAlarts(),this.as.deleteAction(this.data.id).subscribe(function(n){t.waiting=!1},function(n){t.waiting=!1,t.alerts.push({type:"danger",msg:n})})},r([e.i(a.Input)(),s("design:type","function"==typeof(n="undefined"!=typeof i.c&&i.c)&&n||Object)],t.prototype,"data",void 0),r([e.i(a.Input)(),s("design:type",Boolean)],t.prototype,"parentBusy",void 0),t=r([e.i(a.Component)({selector:".action-editor",template:e(836),styles:[e(826)]}),s("design:paramtypes",["function"==typeof(c="undefined"!=typeof o.a&&o.a)&&c||Object])],t);var n,c}()},644:function(t,n,e){"use strict";var a=e(0),i=e(251),o=e(392),r=e(393),s=e(391);e.d(n,"a",function(){return u});var c=this&&this.__decorate||function(t,n,e,a){var i,o=arguments.length,r=o<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(n,e,r):i(n,e))||r);return o>3&&r&&Object.defineProperty(n,e,r),r},l=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},d=[{path:"",component:r.a},{path:"action",component:s.a},{path:"auth/qq/create",component:o.a}],u=function(){function t(){}return t=c([e.i(a.NgModule)({imports:[i.c.forRoot(d)],exports:[i.c],providers:[]}),l("design:paramtypes",[])],t)}()},645:function(t,n,e){"use strict";var a=e(0),i=e(650);e.n(i);e.d(n,"a",function(){return s});var o=this&&this.__decorate||function(t,n,e,a){var i,o=arguments.length,r=o<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(n,e,r):i(n,e))||r);return o>3&&r&&Object.defineProperty(n,e,r),r},r=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},s=function(){function t(){this.title="时间管理"}return t=o([e.i(a.Component)({selector:"app-root",template:e(838),styles:[e(828)],providers:[]}),r("design:paramtypes",[])],t)}()},646:function(t,n,e){"use strict";var a=e(172),i=e(0),o=e(39),r=e(118),s=e(645),c=e(649),l=e(648),d=e(644),u=e(651),p=e(175),f=e(176),h=e(392),g=e(393),m=e(647),v=e(123),y=e(391),b=e(642),w=e(643),I=e(457),O=(e.n(I),e(459)),R=(e.n(O),e(438)),A=(e.n(R),e(394));e.d(n,"a",function(){return C});var j=this&&this.__decorate||function(t,n,e,a){var i,o=arguments.length,r=o<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(n,e,r):i(n,e))||r);return o>3&&r&&Object.defineProperty(n,e,r),r},x=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},C=function(){function t(){}return t=j([e.i(i.NgModule)({declarations:[s.a,c.a,l.a,u.a,h.a,g.a,m.a,y.a,b.a,w.a],imports:[I.DropdownModule.forRoot(),O.ModalModule.forRoot(),R.AlertModule.forRoot(),a.b,o.FormsModule,r.b,r.c,d.a],providers:[f.a,p.a,A.a,{provide:v.a,useClass:v.a}],bootstrap:[s.a]}),x("design:paramtypes",[])],t)}()},647:function(t,n,e){"use strict";var a=e(0),i=e(483),o=(e.n(i),e(123)),r=e(394);e.d(n,"a",function(){return l});var s=this&&this.__decorate||function(t,n,e,a){var i,o=arguments.length,r=o<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(n,e,r):i(n,e))||r);return o>3&&r&&Object.defineProperty(n,e,r),r},c=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},l=function(){function t(t,n){this.as=t,this.rs=n,this.loading=!0,this.posting=!1,this.current="",this.due="",this.error="",this.postError=""}return t.prototype.ngOnInit=function(){this.loadData()},t.prototype.changeCurrent=function(t){var n=this;this.posting=t,this.postError="",this.rs.changeCurrent(t).subscribe(function(t){n.posting=!1;var e=n.actionList.find(function(n){return n.id===t.id});e?(n.current=e.name,n.resetDueTimer(t.startAt)):n.postError="出错了，请刷新试试"},function(t){n.posting=!1,n.postError="出错了："+t})},t.prototype.refresh=function(){this.posting||(this.reinit(),this.loadData())},t.prototype.resetDueTimer=function(t){var n=this;this.dueSubscription&&this.dueSubscription.unsubscribe(),this.dueSubscription=i.Observable.timer(0,1e3).subscribe(function(e){n.due=n.dueString(t)})},t.prototype.dueString=function(t){var n=new Date,e=Math.round(n.getTime()/1e3)-t,a=Math.floor(e/86400);e%=86400;var i=Math.floor(e/3600);e%=3600;var o=Math.floor(e/60),r=e%60;return(a?a+"天":"")+(i?i+"时":"")+(o?o+"分":"")+(r?r+"秒":"")},t.prototype.reinit=function(){this.actionList=[],this.loading=!0,this.current="",this.due="",this.dueSubscription&&this.dueSubscription.unsubscribe(),this.dueSubscription=null,this.error="",this.postError=""},t.prototype.loadData=function(){var t=this;i.Observable.combineLatest(this.as.listAction(),this.rs.current).subscribe(this.processData.bind(this),function(n){t.loading=!1,t.error=n})},t.prototype.processData=function(t){if(this.loading=!1,t[1].length>0){var n=t[1][0],e=t[0].find(function(t){return t.id===n.id});e&&(this.current=e.name,this.resetDueTimer(n.startAt))}this.actionList=t[0]},t=s([e.i(a.Component)({selector:"dashboard-page",template:e(840),styles:[e(830)]}),c("design:paramtypes",["function"==typeof(n="undefined"!=typeof o.a&&o.a)&&n||Object,"function"==typeof(l="undefined"!=typeof r.a&&r.a)&&l||Object])],t);var n,l}()},648:function(t,n,e){"use strict";var a=e(0),i=e(175),o=e(251),r=e(207),s=e(176);e.d(n,"a",function(){return d});var c=this&&this.__decorate||function(t,n,e,a){var i,o=arguments.length,r=o<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(n,e,r):i(n,e))||r);return o>3&&r&&Object.defineProperty(n,e,r),r},l=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},d=function(){function t(t,n,e){this.auth=t,this.route=n,this.sess=e,this.loginActive=!0,this.regActive=!1,this.regData={email:"",pass:"",confirmPass:"",name:"",errors:[]},this.loginData={email:"",pass:"",remember:!1,errors:[]}}return t.prototype.ngOnInit=function(){var t=this;this.auth.qqAuthUrl.subscribe(function(n){t.qqAuthUrl=n}),this.route.fragment.subscribe(function(n){"reg"===n?t.activeRegister():t.activeLogin()})},t.prototype.activeLogin=function(){this.loginActive=!0,this.regActive=!1},t.prototype.activeRegister=function(){this.loginActive=!1,this.regActive=!0},Object.defineProperty(t.prototype,"isValid",{get:function(){if(this.regActive){var t=this.regData;return t.pass.length>=6&&t.confirmPass===t.pass&&t.email.match("[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,6}")&&t.name.length>=3}var t=this.loginData;return(!t.pass||t.pass.length>=6)&&(!t.email||t.email.match("[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,6}"))},enumerable:!0,configurable:!0}),t.prototype.formSubmit=function(){var t=this;if(this.regActive){var n=this.regData;n.errors=[],this.auth.register(n.name,n.email,e.i(r.c)(n.pass),e.i(r.c)(n.confirmPass)).subscribe(function(n){t.sess.refreshAccountInfo()},function(n){t.regData.errors=n.map(function(t){return{type:"danger",msg:t}})})}else{var n=this.loginData;n.errors=[],this.auth.login(n.email,e.i(r.c)(n.pass),n.remember).subscribe(function(n){t.sess.refreshAccountInfo()},function(n){t.loginData.errors=n.map(function(t){return{type:"danger",msg:t}})})}},t=c([e.i(a.Component)({selector:"login-zone",template:e(842),styles:[e(832)],animations:[e.i(a.trigger)("fadeInOut",[e.i(a.state)("*",e.i(a.style)({opacity:1})),e.i(a.transition)(":enter",[e.i(a.style)({opacity:0}),e.i(a.animate)("200ms ease-in")])])]}),l("design:paramtypes",["function"==typeof(n="undefined"!=typeof i.a&&i.a)&&n||Object,"function"==typeof(d="undefined"!=typeof o.a&&o.a)&&d||Object,"function"==typeof(u="undefined"!=typeof s.a&&s.a)&&u||Object])],t);var n,d,u}()},649:function(t,n,e){"use strict";var a=e(0),i=e(176),o=e(175);e.d(n,"a",function(){return c});var r=this&&this.__decorate||function(t,n,e,a){var i,o=arguments.length,r=o<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(n,e,r):i(n,e))||r);return o>3&&r&&Object.defineProperty(n,e,r),r},s=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},c=function(){function t(t,n){this.session=t,this.auth=n}return t.prototype.ngOnInit=function(){var t=this;this.session.accountInfo$.subscribe(function(n){t.account=n}),this.session.refreshAccountInfo()},t.prototype.logout=function(){var t=this;this.auth.logout().subscribe(function(n){t.session.refreshAccountInfo()})},r([e.i(a.Input)(),s("design:type",String)],t.prototype,"brandName",void 0),t=r([e.i(a.Component)({selector:"app-nav",template:e(843),styles:[e(833)]}),s("design:paramtypes",["function"==typeof(n="undefined"!=typeof i.a&&i.a)&&n||Object,"function"==typeof(c="undefined"!=typeof o.a&&o.a)&&c||Object])],t);var n,c}()},650:function(t,n,e){"use strict";var a=e(489),i=(e.n(a),e(488)),o=(e.n(i),e(487)),r=(e.n(o),e(485)),s=(e.n(r),e(490)),c=(e.n(s),e(294)),l=(e.n(c),e(492)),d=(e.n(l),e(295)),u=(e.n(d),e(497)),p=(e.n(u),e(499)),f=(e.n(p),e(496)),h=(e.n(f),e(491)),g=(e.n(h),e(493));e.n(g)},651:function(t,n,e){"use strict";var a=e(0);e.d(n,"a",function(){return r});var i=this&&this.__decorate||function(t,n,e,a){var i,o=arguments.length,r=o<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,n,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(o<3?i(r):o>3?i(n,e,r):i(n,e))||r);return o>3&&r&&Object.defineProperty(n,e,r),r},o=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},r=function(){function t(){}return t.prototype.ngOnInit=function(){},t=i([e.i(a.Component)({selector:"welcome-page",template:e(844),styles:[e(834)]}),o("design:paramtypes",[])],t)}()},652:function(t,n,e){"use strict";e.d(n,"a",function(){return a});var a={production:!0}},653:function(t,n,e){"use strict";var a=e(667),i=(e.n(a),e(660)),o=(e.n(i),e(656)),r=(e.n(o),e(662)),s=(e.n(r),e(661)),c=(e.n(s),e(659)),l=(e.n(c),e(658)),d=(e.n(l),e(666)),u=(e.n(d),e(655)),p=(e.n(u),e(654)),f=(e.n(p),e(664)),h=(e.n(f),e(657)),g=(e.n(h),e(665)),m=(e.n(g),e(663)),v=(e.n(m),e(668)),y=(e.n(v),e(1096));e.n(y)},825:function(t,n){t.exports=""},826:function(t,n){t.exports=""},827:function(t,n){t.exports=""},828:function(t,n){t.exports=""},829:function(t,n){t.exports=".ng-valid[required], .ng-valid.required{\n  border-left:5px solid #42A948;\n}\n\n.ng-invalid:not(form){\n  border-left:5px solid #a94442;\n}\n"},830:function(t,n){t.exports=""},831:function(t,n){t.exports=""},832:function(t,n){t.exports=""},833:function(t,n){t.exports=""},834:function(t,n){t.exports=""},835:function(t,n){t.exports='<div class="panel panel-default">\n  <div class="panel-heading">\n    <div class="row vertical-align">\n      <div class="col-xs-6" *ngIf="!showRenameForm">\n        <span class="glyphicon glyphicon-folder-open" style="padding-right: 0.3em" aria-hidden="true"></span> <b>{{data.name}}</b>\n      </div>\n      <div class="col-xs-12" *ngIf="showRenameForm">\n        <div class="input-group" [class.has-error]="!name.valid && !name.disabled">\n          <div class="input-group-addon">\n            <span class="glyphicon glyphicon-folder-open" style="padding-right: 0.3em" aria-hidden="true"></span>\n          </div>\n          <input type="text" class="form-control" name="name" [(ngModel)]="_name" #name="ngModel" required\n                 maxlength="14" placeholder="分类名，必填" [disabled]="waiting" (keyup.enter)="name.valid && nameChanged && save()"><br>\n          <div class="input-group-btn">\n            <button class="btn btn-primary" *ngIf="!waiting" (click)="save()" [class.hidden]="!name.valid || !nameChanged">保存</button>\n            <button class="btn btn-default" *ngIf="!waiting" (click)="cancel();">取消</button>\n            <button class="btn btn-default" *ngIf="waiting" disabled><span class="glyphicon glyphicon-repeat rotate-forever"></span></button>\n          </div>\n        </div>\n        <alert [type]="a.type" dismissible="true" *ngFor="let a of alerts">{{a.msg}}</alert>\n      </div>\n      <div class="col-xs-6 btn-group" *ngIf="!showRenameForm" dropdown>\n        <button class="btn btn-default pull-right" *ngIf="!waiting" dropdownToggle>\n          <span class="glyphicon glyphicon-menu-hamburger" aria-hidden="true"></span>\n        </button>\n        <button class="btn btn-default pull-right" *ngIf="waiting" disabled><span\n          class="glyphicon glyphicon-repeat rotate-forever"></span></button>\n        <ul class="dropdown-menu-right" dropdownMenu>\n          <li><a href (click)="$event.preventDefault(); showAddAction();">新建动作</a></li>\n          <li><a href (click)="$event.preventDefault(); toggleRename();">重命名</a></li>\n          <li role="separator" class="divider"></li>\n          <li><a href (click)="$event.preventDefault(); remove();">删除</a></li>\n        </ul>\n      </div>\n    </div>\n  </div>\n  <div class="" *ngIf="!showRenameForm && alerts.length > 0">\n    <alert [type]="a.type" dismissible="true" *ngFor="let a of alerts" (onClosed)="clearAlarts()">{{a.msg}}</alert>\n  </div>\n  <ul class="list-group">\n    <li class="list-group-item action-editor" *ngFor="let a of data.children" [data]="a" [parentBusy]="waiting"></li>\n  </ul>\n</div>\n<div bsModal #addActionConfirm="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"\n     aria-hidden="true" (onShown)="nameInput.focus()" (onHidden)="name.reset()">\n  <div class="modal-dialog modal-lg">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" aria-label="Close" (click)="hideAddAction()">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">在 <b>{{data.name}}</b> 下新建动作</h4>\n      </div>\n      <div class="modal-body">\n        <div class="input-group" [class.has-error]="!name.valid && !name.pristine && !name.disabled">\n          <input type="text" class="form-control" name="name" [(ngModel)]="addActionName" #name="ngModel" required\n                 maxlength="14" placeholder="动作名，必填" #nameInput [disabled]="waiting" (keyup.enter)="name.valid && addAction()"><br>\n          <div class="input-group-btn">\n            <button class="btn btn-primary" *ngIf="!waiting" (click)="addAction()" [class.hidden]="!name.valid">建立</button>\n            <button class="btn btn-default" *ngIf="!waiting" (click)="hideAddAction();">取消</button>\n            <button class="btn btn-default" *ngIf="waiting" disabled><span class="glyphicon glyphicon-repeat rotate-forever"></span></button>\n          </div>\n        </div>\n        <alert [type]="a.type" dismissible="true" *ngFor="let a of alerts">{{a.msg}}</alert>\n      </div>\n    </div>\n  </div>\n</div>\n\n';
},836:function(t,n){t.exports='<div class="row vertical-align">\n  <div class="col-xs-6" *ngIf="!showRenameForm">\n    {{_name}} <span class="badge">{{data.recordNum}}</span>\n  </div>\n  <div class="col-xs-12" *ngIf="showRenameForm">\n    <div class="input-group" [class.has-error]="!name.valid && !name.disabled">\n      <input type="text" class="form-control" name="name" [(ngModel)]="_name" #name="ngModel" required maxlength="14"\n             placeholder="动作名字，必填" [disabled]="waiting" (keyup.enter)="name.valid && nameChanged && save()"><br>\n      <div class="input-group-btn">\n        <button class="btn btn-primary" *ngIf="!waiting" (click)="save()" [class.hidden]="!name.valid || !nameChanged">\n          保存\n        </button>\n        <button class="btn btn-default" *ngIf="!waiting" (click)="cancel();">取消</button>\n        <button class="btn btn-default" *ngIf="waiting" disabled><span\n          class="glyphicon glyphicon-repeat rotate-forever"></span></button>\n      </div>\n    </div>\n    <div class="checkbox vertical-align">\n      <label>\n        <input type="checkbox" name="changeOld" [(ngModel)]="changeOld" [disabled]="waiting">\n        同时修改之前的记录 <span class="badge">{{data.recordNum ? data.recordNum + \'条记录将被修改\' : \'暂无记录\'}}</span>\n      </label>\n    </div>\n    <alert [type]="a.type" dismissible="true" *ngFor="let a of alerts">{{a.msg}}</alert>\n  </div>\n  <div class="col-xs-6 btn-group" *ngIf="!showRenameForm" dropdown>\n    <button class="btn btn-default pull-right" dropdownToggle *ngIf="!waiting">\n      <span class="glyphicon glyphicon-menu-hamburger" aria-hidden="true"></span>\n    </button>\n    <button class="btn btn-default pull-right" *ngIf="waiting" disabled><span\n      class="glyphicon glyphicon-repeat rotate-forever"></span></button>\n    <ul class="dropdown-menu-right" dropdownMenu>\n      <li><a href (click)="$event.preventDefault(); toggleRename()">重命名</a></li>\n      <li role="separator" class="divider"></li>\n      <li><a href (click)="$event.preventDefault(); deleteAction()">删除</a></li>\n    </ul>\n  </div>\n</div>\n<div *ngIf="!showRenameForm && alerts.length > 0">\n  <alert [type]="a.type" dismissible="true" *ngFor="let a of alerts">{{a.msg}}</alert>\n</div>\n'},837:function(t,n){t.exports='<div class="row">\n  <div class="col-md-6 col-md-offset-3">\n    <action-category-editor *ngFor="let c of all | async" [data]="c"></action-category-editor>\n    <button class="pull-right btn btn-lg btn-default" (click)="showAddCategory()"><span class="glyphicon glyphicon-plus"></span> 新建分类</button>\n  </div>\n</div>\n<div bsModal #addCategoryConfirm="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"\n     aria-hidden="true" (onShown)="nameInput.focus()" (onHidden)="name.reset()">\n  <div class="modal-dialog modal-lg">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" aria-label="Close" (click)="hideAddCategory()">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">新建分类</h4>\n      </div>\n      <div class="modal-body">\n        <div class="input-group" [class.has-error]="!name.valid && !name.pristine && !name.disabled">\n          <input type="text" class="form-control" name="name" [(ngModel)]="addCategoryName" #name="ngModel" required\n                 maxlength="14" placeholder="分类名，必填" #nameInput [disabled]="waiting" (keyup.enter)="name.valid && addCategory()"><br>\n          <div class="input-group-btn">\n            <button class="btn btn-primary" *ngIf="!waiting" (click)="addCategory()" [class.hidden]="!name.valid">建立</button>\n            <button class="btn btn-default" *ngIf="!waiting" (click)="hideAddCategory();">取消</button>\n            <button class="btn btn-default" *ngIf="waiting" disabled><span class="glyphicon glyphicon-repeat rotate-forever"></span></button>\n          </div>\n        </div>\n        <alert [type]="a.type" dismissible="true" *ngFor="let a of alerts">{{a.msg}}</alert>\n      </div>\n    </div>\n  </div>\n</div>\n<!--手机上输入法出来后用户滚动会导致输入框被输入法遮住，为了解决此问题，在最下方的输入框下方加入足够的空白区域来避免出现此问题-->\n<div style="height: 20em"></div>\n'},838:function(t,n){t.exports='<app-nav [brandName]="title"></app-nav>\n<div class="container">\n  <router-outlet></router-outlet>\n  <div class="row" style="margin-top: 70px">\n    <nav class="navbar navbar-default" role="navigation">\n      <div class="container" style="padding-top: 15px">\n        <footer>\n          <!--<p class="pull-right"><a href="#">联系我们</a> | <a href="#">客服中心</a></p>-->\n          <p>&copy; 2016 - 2017 MiGuo Tech, Inc. &middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a></p>\n        </footer>\n      </div>\n    </nav>\n  </div>\n</div>\n\n<!--<div id="app">-->\n  <!--<h1>Hello {{name}}</h1>-->\n  <!--<ul class="nav nav-pills">-->\n    <!--<li routerLinkActive="active"><a routerLink="/test1">Test1</a></li>-->\n    <!--<li routerLinkActive="active"><a routerLink="/test2" routerLinkActive="active">Test2</a></li>-->\n  <!--</ul>-->\n  <!--<div id="sxp1" #b class="test" [ngClass]="title">test</div>-->\n  <!--<div *ngFor="let t of test()" id="{{t}}" #a (click)="onClick(a.outerHTML)">{{t}}</div>-->\n  <!--<router-outlet></router-outlet>-->\n\n<!--</div>-->\n'},839:function(t,n){t.exports='<div class="row">\n  <div class="col-md-8 col-md-offset-2">\n    <div class="panel panel-default">\n      <div class="panel-heading">新建用户(首次使用此QQ登录)</div>\n      <div class="panel-body">\n        <form class="form-horizontal" #form="ngForm" (ngSubmit)="onSubmit()">\n\n          <div class="form-group">\n            <label for="nick" class="col-md-4 control-label">昵称</label>\n\n            <div class="col-md-6">\n              <img [src]="account?.avatarUrl" *ngIf="account?.avatarUrl"/>\n              <input id="nick" type="text" class="form-control" name="nick" [(ngModel)]="data.nick"\n                     required autofocus #nick="ngModel" minlength="3" maxlength="12">\n\n              <div class="alert alert-danger" [hidden]="nick.valid || nick.pristine">昵称必须>=3个字符</div>\n            </div>\n          </div>\n\n          <div class="form-group">\n            <div class="col-md-8 col-md-offset-4">\n              <button type="submit" class="btn btn-default" [disabled]="!form.form.valid">\n                创建用户\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</div>\n'},840:function(t,n){t.exports='<div class="row">\n  <div class="col-md-3">\n    <div class="panel panel-default">\n      <div class="panel-heading">记录\n        <div class="pull-right glyphicon glyphicon-refresh" style="cursor: pointer" (click)="refresh()"></div>\n      </div>\n\n      <div class="panel-body text-center">\n        <div *ngIf="!loading && current">\n          <alert type="danger" *ngIf="postError">{{postError}}</alert>\n          <h2>\n            <small>正在</small>\n            {{current}}\n          </h2>\n          <h4>\n            <small>已进行</small>\n            {{due}}\n          </h4>\n          <hr/>\n        </div>\n        <alert type="warning" *ngIf="!loading && !current && !error">还没有任何正在做的事情，请在下方选择一个</alert>\n        <alert type="danger" *ngIf="!loading && !current && !error && postError" dismissible="true">{{postError}}</alert>\n        <alert type="danger" *ngIf="!loading && error">\n          <h4>出错了</h4>\n          <p class="left">{{error}}</p>\n          <p><a class="alert-link" href (click)="$event.preventDefault(); refresh()">请点击这里重试</a></p>\n        </alert>\n        <div *ngIf="loading">\n          <span class="glyphicon glyphicon-refresh rotate-forever" style="font-size: 26px" aria-hidden="true"></span>\n        </div>\n        <button class="btn btn-default" [class.btn-primary]="current == a.name"\n                *ngFor="let a of actionList" (click)="changeCurrent(a.id)" [disabled]="posting" style="margin: 2px">{{a.name}}\n          <span *ngIf="posting === a.id" class="glyphicon glyphicon-refresh rotate-forever" aria-hidden="true"></span>\n        </button>\n      </div>\n    </div>\n  </div>\n  <div class="col-md-9">\n    <div class="panel panel-default">\n      <div class="panel-heading">图表</div>\n\n      <div class="panel-body">\n        You are logged in!\n      </div>\n    </div>\n  </div>\n</div>\n'},841:function(t,n){t.exports='<welcome-page *ngIf="loaded && account == null"></welcome-page>\n<dashboard-page *ngIf="loaded && account"></dashboard-page>\n'},842:function(t,n){t.exports='<div style="margin-top: 20px">\n  <ul class="nav nav-tabs">\n    <li style="text-align: center" class="col-sm-6 col-xs-6" [class.active]="loginActive">\n      <a routerLink="/" (click)="activeLogin()">登录</a></li>\n    <li style="text-align: center" class="col-sm-6 col-xs-6" [class.active]="regActive">\n      <a routerLink="/" fragment="reg" (click)="activeRegister()">注册</a></li>\n  </ul>\n  <div class="tab-content">\n    <div class="tab-pane fade" [class.active]="loginActive" *ngIf="loginActive" [@fadeInOut]="\'\'">\n      <div class="row" style="margin-left: 5px;margin-right: 5px">\n        <form class="form-horizontal" role="form" style="padding:30px 10px 0px 10px" #loginForm="ngForm" (ngSubmit)="formSubmit()">\n          <div class="form-group input-group" [class.has-error]="!emailInput.valid && !emailInput.pristine">\n            <span class="input-group-addon" title="电子邮箱地址"><span class="glyphicon glyphicon-envelope"></span></span>\n            <input type="email" class="form-control" placeholder="电子邮箱地址" name="email" required [(ngModel)]="loginData.email"\n                   pattern="[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,6}" #emailInput="ngModel">\n          </div>\n          <div class="form-group input-group" [class.has-error]="!passInput.valid && !passInput.pristine">\n            <span class="input-group-addon" title="密码"><span class="glyphicon glyphicon-lock"></span></span>\n            <input type="password" class="form-control" placeholder="密码" name="pass" required #passInput="ngModel"\n                   minlength="6" [(ngModel)]="loginData.pass">\n          </div>\n          <div class="form-group checkbox" style="margin-bottom: 15px">\n            <label>\n              <input type="checkbox" name="remember" [(ngModel)]="loginData.remember">下次自动登录\n            </label>\n          </div>\n          <alert type="danger" *ngIf="(!isValid && loginForm.form.dirty) || loginData.errors.length > 0">\n            <ul class="list-unstyled">\n              <li *ngIf="!emailInput.valid && !emailInput.pristine">请输入正确的电子邮件地址</li>\n              <li *ngIf="!passInput.valid && !passInput.pristine">密码至少6个字符</li>\n              <li *ngFor="let e of loginData.errors">{{e.msg}}</li>\n            </ul>\n          </alert>\n          <button type="submit" class="btn btn-lg btn-primary btn-block" [disabled]="!isValid || !loginForm.form.valid">登录</button>\n        </form>\n        <div class="pull-left" style="margin-top: 20px" *ngIf="qqAuthUrl">\n          其他账号登录: <a href="{{qqAuthUrl}}" *ngIf="qqAuthUrl"><img src="http://qzonestyle.gtimg.cn/qzone/vas/opensns/res/img/bt_blue_24X24.png"/></a>\n        </div>\n        <div class="pull-right" style="padding: 80px 5px 20px 0px">\n          <span><a class="btn btn-link" href="#">忘记密码？</a>|</span>\n          <span><a href="#">意见反馈</a></span>\n        </div>\n      </div>\n    </div>\n    <div class="tab-pane fade" [class.active]="regActive" *ngIf="regActive" [@fadeInOut]="\'\'">\n      <div class="row" style="margin-left: 5px;margin-right: 5px; padding: 0px 0px 30px 0px">\n        <form class="form-horizontal" role="form" style="padding:30px 10px 0px 10px" #regForm="ngForm" (ngSubmit)="formSubmit()">\n          <div class="form-group input-group" [class.has-error]="!nameInput.valid && !nameInput.pristine">\n            <span class="input-group-addon" title="昵称"><span class="glyphicon glyphicon-user"></span></span>\n            <input type="text" class="form-control" placeholder="请输入昵称" name="name" required minlength="3" maxlength="12" [(ngModel)]="regData.name"\n                   #nameInput="ngModel" autofocus>\n          </div>\n          <div class="form-group input-group" [class.has-error]="!emailInput.valid && !emailInput.pristine">\n            <span class="input-group-addon" title="电子邮箱地址"><span class="glyphicon glyphicon-envelope"></span></span>\n            <input type="email" class="form-control" placeholder="请输入电子邮箱地址" name="email" required [(ngModel)]="regData.email"\n                   pattern="[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,6}" #emailInput="ngModel">\n          </div>\n          <div class="form-group input-group" [class.has-error]="!passInput.valid && !passInput.pristine">\n            <span class="input-group-addon" title="密码"><span class="glyphicon glyphicon-lock"></span></span>\n            <input type="password" class="form-control" placeholder="请输入密码" name="pass" required #passInput="ngModel"\n                   minlength="6" [(ngModel)]="regData.pass">\n          </div>\n          <div class="form-group input-group"\n               [class.has-error]="(!passInput.pristine || !pass2Input.pristine) && (!pass2Input.valid || pass2Input.value !== passInput.value)">\n            <span class="input-group-addon" title="确认密码"><span class="glyphicon glyphicon-lock"></span></span>\n            <input type="password" class="form-control" placeholder="请再次输入密码" name="pass2" required #pass2Input="ngModel"\n                   minlength="6" [(ngModel)]="regData.confirmPass">\n          </div>\n          <alert type="danger" *ngIf="(!isValid && regForm.form.dirty) || regData.errors.length > 0">\n            <ul class="list-unstyled">\n              <li *ngIf="!nameInput.valid && !nameInput.pristine">昵称最少3个字符</li>\n              <li *ngIf="!emailInput.valid && !emailInput.pristine">请输入正确的电子邮件地址</li>\n              <li *ngIf="!passInput.valid && !passInput.pristine">密码至少6个字符</li>\n              <li *ngIf="(!passInput.pristine || !pass2Input.pristine) && (!pass2Input.valid || pass2Input.value !== passInput.value)">确认密码与密码不同</li>\n              <li *ngFor="let e of regData.errors">{{e.msg}}</li>\n            </ul>\n          </alert>\n          <button type="submit" class="btn btn-lg btn-primary btn-block" [disabled]="!isValid || !regForm.form.valid">立即注册</button>\n        </form>\n      </div>\n    </div>\n  </div>\n</div>\n'},843:function(t,n){t.exports='<nav class="navbar navbar-default navbar-static-top">\n  <div class="container">\n    <div class="navbar-header">\n      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#app-navbar-collapse"\n              aria-expanded="false">\n        <span class="sr-only">Toggle navigation</span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button>\n      <!-- Branding Image -->\n      <a class="navbar-brand" routerLink="/">{{brandName}}</a>\n    </div>\n\n    <div class="collapse navbar-collapse" id="app-navbar-collapse">\n      <!-- Right Side Of Navbar -->\n      <ul class="nav navbar-nav navbar-right" *ngIf="!account">\n        <!-- Authentication Links -->\n        <li><a routerLink="/">登录</a></li>\n        <li><a routerLink="/" fragment="reg">注册</a></li>\n      </ul>\n      <ul class="nav navbar-nav navbar-right" *ngIf="account">\n        <li class="dropdown">\n          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">\n            {{account.name}} <span class="caret"></span>\n          </a>\n\n          <ul class="dropdown-menu" role="menu">\n            <li>\n              <a routerLink="/action">动作管理</a>\n            </li>\n            <li role="separator" class="divider"></li>\n            <li>\n              <a href="" (click)="$event.preventDefault(); logout();">退出</a>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </div>\n  </div>\n</nav>\n'},844:function(t,n){t.exports='<div class="row" style="margin-top: 50px">\n  <div class="col-sm-8 hidden-xs" style=\'background: url("/ng2/images/bg.jpeg") top right no-repeat\'>\n    <dl>\n      <dt class="h4">坚持记录</dt>\n      <dd>我做过什么、正在做什么</dd>\n    </dl>\n    <dl>\n      <dt class="h4">计划将来</dt>\n      <dd>我准备什么、将来会发生什么</dd>\n    </dl>\n    <dl>\n      <dt class="h4">统计分析</dt>\n      <dd>你花了多少时间做某事、我的时间都浪费在哪里</dd>\n    </dl>\n    <dl>\n      <dt class="h4">管理优化</dt>\n      <dd>减少时间的浪费、提高效率、更好的利用时间</dd>\n    </dl>\n  </div>\n\n  <div class="col-sm-4" style="border: 3px solid #e9e8e6;box-shadow:2px 2px 3px #aaaaaa;">\n    <login-zone></login-zone>\n  </div>\n</div>\n'}},[1098]);
//# sourceMappingURL=main.44d93d9881810dfa594e.bundle.map